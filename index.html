<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">

  <meta name="theme-color" content="#fafafa">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Babylon Template</title>
  <style>
    html, body {
        overflow: hidden;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
    }
    #renderCanvas {
        width: 100%;
        height: 100%;
        touch-action: none;
    }
</style>

<script src="https://cdn.babylonjs.com/babylon.js"></script>
<script src="https://cdn.babylonjs.com/gui/babylon.gui.js"></script>
</head>

<body>
  <canvas id="renderCanvas"></canvas>
  <!-- Add your site or application content here -->
  <p>Hello world! This is HTML5 Boilerplate.</p>
  <script src="js/vendor/modernizr-3.11.2.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>

  <script>
  const canvas = document.getElementById("renderCanvas"); // Get the canvas element
        const engine = new BABYLON.Engine(canvas, true); // Generate the BABYLON 3D engine
        let startGameButton;
        let player1 = {};
        let player2 = {};

        const createScene = async function () {
            // Creates a basic Babylon Scene object
            const scene = new BABYLON.Scene(engine);
            // Creates and positions a free camera
            const camera = new BABYLON.FreeCamera("camera1", 
                new BABYLON.Vector3(0, 2, 0), scene);
            // Targets the camera to scene origin
            camera.setTarget(BABYLON.Vector3.Zero());
            // This attaches the camera to the canvas
            // camera.attachControl(canvas, true);
            // Creates a light, aiming 0,1,0 - to the sky
            const light = new BABYLON.HemisphericLight("light", 
                new BABYLON.Vector3(0, 1, 0), scene);
            // Dim the light a small amount - 0 to 1
            light.intensity = 0.7;
            // Built-in 'sphere' shape.
            const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", 
                {diameter: 2, segments: 32}, scene);
            // Move the sphere upward 1/2 its height
            sphere.position.y = 1;
            // Built-in 'ground' shape.
            const ground = BABYLON.MeshBuilder.CreateGround("ground", 
                {width: 6, height: 6}, scene);
            //GUI
            let advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI", true, scene);
            let loadedGUI = await advancedTexture.parseFromURLAsync("./json/guiTexture.json");

            startGameButton =  advancedTexture.getControlByName("Start Game");
            // debugger;
            // startGameButton.isVisible = false;
            startGameButton.onPointerUpObservable.add(function() {
                console.log("%cStart Game Pressed", "color:green");
            });

            /**player 1 controls**/
            player1.answer1 = advancedTexture.getControlByName("Answer1");
            player1.answer1.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 1 Pressed", "color:blue");
            });

            player1.answer2 = advancedTexture.getControlByName("Answer2");
            player1.answer2.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 2 Pressed", "color:blue");
            });

            player1.answer3 = advancedTexture.getControlByName("Answer3");
            player1.answer3.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 3 Pressed", "color:blue");
            });

             /**player 2 controls**/
            player2.answer1 = advancedTexture.getControlByName("Answer4");
            player2.answer1.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 1 Pressed", "color:red");
            });

            player2.answer2 = advancedTexture.getControlByName("Answer5");
            player2.answer2.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 2 Pressed", "color:red");
            });

            player2.answer3 = advancedTexture.getControlByName("Answer6");
            player2.answer3.onPointerUpObservable.add(function() {
                console.log("%cPlayer 1 Button 3 Pressed", "color:red");
            });

            return scene;
        };
        const PromiseScene = createScene(); //Call the createScene function that returns a promise
         PromiseScene.then(scene => {
            scene.debugLayer.show();//show debugger
            // Register a render loop to repeatedly render the scene
            engine.runRenderLoop(function () {
                scene.render();
            });
        })
       
      
        
        // Watch for browser/canvas resize events
        window.addEventListener("resize", function () {
                engine.resize();
        });
  </script>

</body>

</html>
